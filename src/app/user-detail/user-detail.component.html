<div class="user-detail-component" *ngIf="user; else ghostUser">
  <div class="row">
    <div class="col-xs-6 skeleton-circle"></div>
    <div class="col-xs-3 skeleton-lines"></div>
  </div>
  <div class="user-detail-container row">
    <div
      *ngIf="user.avatarPath; else noImage"
      class="user-image-container col-5"
    >
      <img
        class="user-image img-circle"
        [src]="getImagePath()"
        [alt]="user.name"
      />
    </div>
    <ng-template #noImage>
      <img
        class="user-image"
        src="../../assets/default-user-profile-image.png"
      />
    </ng-template>

    <div class="user-info-container col-5">
      <div class="user-info">
        <div class="user-name-large">
          <h2>
            {{ user.name }}
            <span *ngIf="user.role === 1">
              <img class="adstar" src="../../assets/goldstar.png" />
            </span>
            <span *ngIf="user.role === 2">
              <img class="adstar" src="../../assets/redstar.png" />
            </span>
          </h2>
        </div>

        <table class="table">
          <tbody>
            <tr>
              <td class="user-info-field-name">
                Email <fa-icon [icon]="['fas', 'envelope']"></fa-icon>
              </td>
              <td class="user-info-field-value">{{ user.email }}</td>
            </tr>
            <tr>
              <td class="user-info-field-name">
                Role <fa-icon [icon]="['fas', 'user-tag']"></fa-icon>
              </td>
              <td *ngIf="user.role === 0" class="user-info-field-value">
                Regular
              </td>
              <td *ngIf="user.role == 1" class="user-info-field-value">
                Advertiser
              </td>
              <td *ngIf="user.role == 2" class="user-info-field-value">
                Admin
              </td>
            </tr>
            <tr>
              <td class="user-info-field-name">
                Home <fa-icon [icon]="['fas', 'home']"></fa-icon>
              </td>
              <td class="user-info-field-value">
                {{ user.home.address }}
              </td>
            </tr>
            <tr>
              <td class="user-info-field-name">
                Work <fa-icon [icon]="['fas', 'briefcase']"></fa-icon>
              </td>
              <td class="user-info-field-value">
                {{ user.work.address }}
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- <div>
          <p class="text-danger">
            <strong>Disclaimer:</strong> In a real app, the home and work
            addresses of users should not be accessible by the public.
          </p>
        </div> -->

      <span class="user-buttons" *ngIf="currentUser">
        <span *ngIf="user.id == currentUser.id" class="edit-profile">
          <a routerLink="/edit">
            <button class="btn btn-primary">
              Edit Profile
            </button>
          </a>
        </span>
        <span *ngIf="currentUser.role == 0">
          <button
            *ngIf="canApply"
            class="btn btn-primary"
            (click)="applyAdvertiser()"
          >
            Apply as Advertiser
          </button>
          <button *ngIf="!canApply" class="btn btn-primary disabled">
            Pending
          </button>
        </span>
      </span>
    </div>
  </div>
</div>

<ng-template #ghostUser>
  <div class="user-detail-component skeleton-user"></div>
</ng-template>
